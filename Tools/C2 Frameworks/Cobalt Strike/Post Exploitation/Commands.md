# Commands

### Beacon’s shell command will task a Beacon to execute a command via cmd.exe on the compromised host. When the command completes, Beacon will present the output to you.

### Use the run command to execute a command without cmd.exe. The run command will post output to you. The execute command runs a program in the background and does not capture output.

### Use the powershell command to execute a command with PowerShell on the compromised host. Use the powerpick command to execute PowerShell cmdlets without powershell.exe. This command relies on the Unmanaged PowerShell technique developed by Lee Christensen. The powershell and powerpick commands will use your current token.

### The psinject command will inject Unmanaged PowerShell into a specific process and run your cmdlet from that location.

### The powershell-import command will import a PowerShell script into Beacon. Future uses of the powershell, powerpick, and psinject commands will have cmdlets from the imported script available to them. Beacon will only hold one PowerShell script at a time. Import an empty file to clear the imported script from Beacon.

### The execute-assembly command will run a local .NET executable as a Beacon postexploitation job. You may pass arguments to this assembly as if it were run from a Windows command-line interface. This command will also inherit your current token.

### If you want Beacon to execute commands from a specific directory, use the cd command in the Beacon console to switch the working directory of the Beacon’s process. The pwd command will tell you which directory you’re currently working from.

### The setenv command will set an environment variable.

### Beacon can execute Beacon Object Files without creating a new process. Beacon Object Files are compiled C programs, written to a specific convention, that run within a Beacon session. Use inline-execute [args] to execute a Beacon Object File with the specified arguments.

## Commands rundown

#### 1) shell (Run a command via cmd.exe)

#### 2) run (Run a command to execute without cmd.exe)

#### 3) execute (Run a program in the background without displaying output)

#### 4) powershell (Run powershell)

#### 5) powerpick (Run powershell cmdlets without powershell.exe)

#### 6) psinject (Inject Unmanaged Powershell into a specific process and run your cmdlet from that location)

#### 7) powershell-import [POWERSHELL_MODULE] (Imports a powershell module)

#### 8) execute-assembly (Run a local .NET executable as a Beacon post-exploitation job)

#### 9) cd (Change directory)

#### 10) pwd (Print working directory)

#### 11) setenv (Set an environment variable)

#### 12) inline-execute ]args] (Execute a Beacon Object File (BOF) with the specified arguments.

#### 13) spawn [ARCHITECTURE] [LISTENER] (Spawns a session for a listener) 

#### 14) spawnto [ARCHITECTURE] [/PATH/TO/PROGRAM.EXE] (Spawns a session to a specific program)

#### 15) inject [PID] [ARCHITECTURE] (Inject a Beacon into a process)

#### 16) dllinject [PID] (Inject a Reflective DLL into a process)

#### 17) shiject [PID] [ARCHITECTURE] [/PATH/TO/FILE.bin] (Inject shellcode from a local file into a process on target)

#### 18) shspawn [ARCHITECTURE] [/PATH/TO/FILE.bin] (Spawn the "spawn to" process and inject the specified shellcode file into that process)

#### 19) dllload [PID] [c:\path\to\file.dll] (Load an on-disk DLL in another process)

#### 20) ppid [PID] (Assign an alternate parent process for programs run by your Beacon Session)

#### 21) runu (Execute a command with another process as the parent

#### 22) spawnu (Spawns a temporary process, as a child of a specified process and inject a Beacon payload stage into it)
